<h1>Lesson Index</h1>


<ul class="users">
  <%= render @lessons%> 
</ul>


<script>
$("button").click(function (e) { 
  e.preventDefault();
  let lesson_id = parseInt(e["target"]["id"])
  loadContent(lesson_id);
  console.log(lesson_id);
  
});

function loadContent(id) {
  $.get('/lessons/'+id, function(data){
     div_id = `${id}_content`
     $('#'+div_id).append("<ul class='lesson_list'>")
     let i = 0
     while (i < data['content'].length) {
        $('#'+div_id).append(`<li >${data['content'][i]}</li>`)
        i++
        if (i==data['content'].length - 1) {
            $('#'+div_id).append("</ul>") 
            $('.lesson_list').css("list-style-type", "circle")
            $('#'+div_id).append(`<button id=${div_id}_tips class='more_button'>Show Tips</button>`)
        }
     }

})
}
</script>